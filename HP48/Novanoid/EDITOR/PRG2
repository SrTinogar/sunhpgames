HPHP48-R,*0€
GOSBVL 0679B
INTOFF
A=DAT1 A
?Aã0 A
GOYES A
GOLONG QUIT
*A
D0=A
B=A A
A=DAT0 A
LC 02A2C
?A=C A
GOYES B.
GOLONG QUIT
*B.
A=B A
A=A+10 A
A=A+9 A

A=A+16 A
A=A+2 A
R0=A
D0= 80125
DAT0=A A

LC 01400
GOSBVL 05B7D
AD0EX
A=A+1 A
ABIT=0 0
LC 00100
A=A+C A
D0= 80120
DAT0=A A
D0= 00120
DAT0=A A

GOSUBL TABLE
GOSUBL LEVEL
GOSUBL INI
D0= 80125
A=DAT0 A
R0=A

*LCD
GOSUBL çBRX
GOSUBL B+
GOSUBL B-
GOSUBL çCUR
GOSUBL G
GOSUBL D
GOSUBL H
GOSUBL B
GOSUBL DRAW
GOSUBL TQ
GOSUBL WAIT
GOLONG LCD

*TQ
LC 010
GOSBVL 01EEC
?CBIT=1 4
GOYES QUIT
RTN

*QUIT
D0= 8068D
A=DAT0 A
D0= 00120
DAT0=A A
LC 37
D0= 00128
DAT0=C B
GOSBVL 067D2
A=DAT0 A
D0=D0+ 5
PC=(A)

*TABLE
GOSUBL TAB
$000000000000000FCCCCCCCCCCCCCCCC40000000000000000766666666666666666000000000000000033FFFFFFFFFFFFF3330000000000000000B930000000000089910000000000000000FCA8C98C98C17E8CC4000000000000000076A82A82A822229666000000000000000033B92A82A92222A3330000000000000000B9BA225EBA2222A9910000000000000000FCAC2252AC2222ACC4000000000000000076A82222A822229666000000000000000033B8C122A8C17E83330000000000000000B930000000000089910000000000000000FC2000448000008CC4000000000000000076200040800000866600000000000000003330E876C1E47083330000000000000000B9301544801D0089910000000000000000FC20F5448015008CC4000000000000000076201444821500866600000000000000003330E87E01E40083330000000000000000B930000000000089910000000000000000FCEFFFFFFFFFFFFCC4000000000000000076666666666666666600000000000000003333333333333333330000000000000000B910000000000899910000000000000000FC030281CC844CCCC400000000000000007621120145554666660000000000000000333939314DC55233330000000000000000B9119001455D6899910000000000000000FC038081C4554CCCC4000000000000000076200000000006266600000000000000003330000000000003330000000000000000B91679EE6606AAB9910000000000000000FC021B42A409A29CC4000000000000000076227F4E6409A21666000000000000000033321D42A405A213330000000000000000B916794EA60AE299910000000000000000FC0000000000008CC40000000000000000766666666666666666000000000000000033FFFFFFFFFFFFF3330000000000000000B930000000000089910000000000000000FCA0000C10088E9CC4000000000000000076A00002200882A666000000000000000033B7220288E982A3330000000000000000B9B8220C982AFE99910000000000000000FCA82200A82A828CC4000000000000000076A8C302A82A828666000000000000000033B7020C1F2A8283330000000000000000B930C10000000089910000000000000000FC2000000000008CC4000000000000000076EFFFFFFFFFFFF66600000000000000003333333333333333330000000000000000B999999999999999910000000000000000FCCCCCCCCCCCCCCCC4000000000000000076666666666666666600000000000000003333333333333333330000000000000000FFFFFFFFFFFFFFFFF7000000000000000030000000000000000000000000000000003000000FFFF7CFFFF100000000000000003000008FF9FFEFFFF300000000000000003000008FF9FFEFFFF30FFFFFFFFFFFFFFF3000008F70EFEF1CF30FFFFFFFFFFFFFFF3000008FF9FFEFFFF303333333333333333000008FF9FFEFFFF309999999999999993000000FFFF7CFFFF10
*TAB
C=RSTK
D1=C
D0= 80120
A=DAT0 A
D0=A
LC 87
*AA
A=DAT1 W
DAT0=A W
D0=D0+ 16
D1=D1+ 16
C=C-1 B
GONC AA
RTN

*INI
CLRST
LC 3F
D0= 00128
DAT0=C B
A=0 A
R1=A %BRX
D0= 80100
A=0 B
DAT0=A B %BRIX
D0= 80120
A=DAT0 A
R2=A %CUR
A=0 B
D0= 80102
DAT0=A B %X-CUR
A=0 B
D0= 80104
DAT0=A B %Y-CUR

RTN

*çBRX
D0= 80120
A=DAT0 A
LC 007C6
A=A+C A
D0=A
GOSUBL çDATA
A=R1
C=C+A A
D1=C
LC 05
*ABRX
A=DAT1 X
DAT0=A X
D0=D0+ 16
D0=D0+ 16
D0=D0+ 2
D1=D1+ 4
C=C-1 B
GONC ABRX
RTN

*B+
LC 100
OUT=C
GOSBVL 01EEC
?CBIT=1 1
GOYES YB+
RTN
*YB+
D0= 80100
A=DAT0 B
LC 0F
?AãC B
GOYES AB
A=0 A
DAT0=A B
R1=A
RTN
*AB
A=A+1 B
DAT0=A B
LC 00018
A=R1
A=A+C A
R1=A
RTN

*B-
LC 100
OUT=C
GOSBVL 01EEC
?CBIT=1 0
GOYES YB-
RTN
*YB-
D0= 80100
A=DAT0 B
?Aã0 B
GOYES AC
LA 0F
DAT0=A B
LC 00168
R1=C
RTN
*AC
A=A-1 B
DAT0=A B
LC 00018
A=R1
A=A-C A
R1=A
RTN

*çCUR
A=R2
D0=A
LC 05
*CCUR
A=DAT0 X
A=-A-1 X
DAT0=A X
D0=D0+ 16
D0=D0+ 16
D0=D0+ 2
C=C-1 B
GONC CCUR
?ST=1 0
GOYES ST1
ST=1 0
RTN
*ST1
ST=0 0
RTN

*D
?ST=0 0
GOYES YDD
RTN
*YDD
LC 040
OUT=C
GOSBVL 01EEC
?CBIT=1 0
GOYES YD
RTN
*YD
D0= 80102
A=DAT0 B
LC 04
?AãC B
GOYES NLD
RTN
*NLD
A=A+1 B
DAT0=A B
A=R0
A=A+1 A
R0=A
A=R2
A=A+3 A
R2=A
RTN

*G
?ST=0 0
GOYES YGG
RTN
*YGG
LC 040
OUT=C
GOSBVL 01EEC
?CBIT=1 2
GOYES YG
RTN
*YG
D0= 80102
A=DAT0 B
?Aã0 B
GOYES NLG
RTN
*NLG
A=A-1 B
DAT0=A B
A=R0
A=A-1 A
R0=A
A=R2
A=A-3 A
R2=A
RTN

*H
?ST=0 0
GOYES YHH
RTN
*YHH
LC 080
OUT=C
GOSBVL 01EEC
?CBIT=1 1
GOYES YH
RTN
*YH
D0= 80104
A=DAT0 B
?Aã0 B
GOYES NLH
RTN
*NLH
A=A-1 B
DAT0=A B
A=R0
A=A-5 A
R0=A
A=R2
LC 000CC
A=A-C A
R2=A
RTN

*B
?ST=0 0
GOYES YBB
RTN
*YBB
LC 040
OUT=C
GOSBVL 01EEC
?CBIT=1 1
GOYES YB
RTN
*YB
D0= 80104
A=DAT0 B
LC 09
?AãC B
GOYES NLB
RTN
*NLB
A=A+1 B
DAT0=A B
A=R0
A=A+5 A
R0=A
A=R2
LC 000CC
A=A+C A
R2=A
RTN

*DRAW
?ST=0 0
GOYES AD
RTN
*AD
LC 010
OUT=C
GOSBVL 01EEC
?CBIT=1 3
GOYES YDRAW
RTN
*YDRAW
A=R2
D0=A
GOSUBL çDATA
A=R1
C=C+A A
D1=C
LC 05
*ABRX2
A=DAT1 X
DAT0=A X
D0=D0+ 16
D0=D0+ 16
D0=D0+ 2
D1=D1+ 4
C=C-1 B
GONC ABRX2
A=R0
D0=A
D1= 80100
A=DAT1 B
DAT0=A 1
RTN

*WAIT
LC 02000
*WW
C=C-1 A
GONC WW
RTN

*LEVEL
D0= 80125
A=DAT0 A
D0=A
AD0EX
R1=A %D1-DATA BRX
LC 04
R2=C B % X-BRX
LC 09
R3=C B % Y-BRX
D0= 80120
A=DAT0 A
R4=A % ADR-ECRAN

*çBRX2
GOSUBL çDATA
D1=C
A=R1
AD0EX
C=0 B

*?BRX
A=0 B
A=DAT0 1
?A=C B
GOYES YBRX
C=C+1 B
D1=D1+ 16
D1=D1+ 8
GOTO ?BRX
*YBRX
A=R4
D0=A
LC 05
*ABRX3
A=DAT1 X
DAT0=A X
D0=D0+ 16
D0=D0+ 16
D0=D0+ 2
D1=D1+ 4
C=C-1 B
GONC ABRX3
A=R4
A=A+3 A
R4=A
A=R1 A
A=A+1 A
R1=A A
A=R2
?Aã0 B
GOYES NF1
A=R3
?Aã0 B
GOYES NF2
RTN
*NF2
A=A-1 B
R3=A
LC 04
R2=C
A=R4
LC 000BD
A=A+C A
R4=A
GOLONG çBRX2
*NF1
A=A-1 B
R2=A
GOLONG çBRX2
RTN

*çDATA
GOSUBL LV
$000000000000000000000000EF701480168014801E80EF70676058A076E071E071E06F60676058A077E078E078E06760696059A07EE078E078E068606F6051A077E078E078E067606E6051A077E079E079E066606F6058A074E072E072E06260666059A076E079E079E06660E970F0F070E070E0F0F0E970E27076E07BE07FE076E0E070E27076E079E079E076E0E070EF70F9F030C030C0F9F0EF70EF70FFF0FED0B7F0FFF0EF70EF703EF0D180DDA03EA0EF70EF70B9D0F0F0F9F0B9D0EF70
*LV
C=RSTK
RTN

@