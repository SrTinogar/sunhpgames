HPHP48-R,*€
GOSUBL INI

*LCD0
GOSUBL AF4
GOSUBL MAR
GOSUBL SCL
GOSUBL çLCD4
?ST=1 0
GOYES NBMG
GOSUBL BMG
GOSUBL BMG2
*NBMG
?ST=0 0
GOYES N2BMG
GOSUBL BMG3
?ST=0 1
GOYES N2BMG
LC 10000
*W2
C=C-1 A
GONC W2
GOLONG Q
*N2BMG
LC 02000
*W4
C=C-1 A
GONC W4
?ST=1 3
GOYES GEGE
GOSUBL TC3
?ST=1 3
GOYES GEGE
GOSUBL TFF
*GEGE
GOSUBL SON
GOSUBL TQ
GOTO LCD0

*TQ
LA 010
C=A X
OUT=C
GOSBVL 01160
C=C&A X
?Cã0 X
GOYES .Q
RTN
*.Q
ST=1 0
RTN

*Q
RTN

*AF4
GOSUBL ECC
$EFFFFFFFFFFFFFFFFFFFFFFFFFFFDFFF30FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF70300000000000000000000000000060004030000000000000000000000000006000403000000000000000000000000000604040300000000000000000000000000060E040300000000000000000000000000060F140300000000000000000000000000065E0403000000000000000000000000000624040300000000000000000000000000065404030000000000000000000000000006000403000000000000000000000000000600040EFFFFFFFFFFFFFFFFFFFFFFFFFFFDFFF30FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7030000000000000000000000000006000403000000000000000000000000000600040300000000000000000000000000060E04030000000000000000000000000006011403000000000000000000000000000600140300000000000000000000000000065E04030000000000000000000000000006201403000000000000000000000000000651140300000000000000000000000000060E0403000000000000000000000000000600040EFFFFFFFFFFFFFFFFFFFFFFFFFFFDFFF30FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7030000000000000000000000000006000403000000000000000000000000000600040300000000000000000000000000060404030000000000000000000000000006060403000000000000000000000000000604040300000000000000000000000000065404030000000000000000000000000006240403000000000000000000000000000654040300000000000000000000000000060E0403000000000000000000000000000600040EFFFFFFFFFFFFFFFFFFFFFFFFFFFDFFF30FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7030000000000000000000000000006000403000000000000000000000000000600040300000000000000000000000000060E04030000000000000000000000000006011403000000000000000000000000000600140300000000000000000000000000065C04030000000000000000000000000006220403000000000000000000000000000651040300000000000000000000000000060F1403000000000000000000000000000600040FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF70EFFFFFFFFFFFFFFFFFFFFFFFFFFFDFFF30
*ECC
C=RSTK
D1=C
D0= 80100
A=DAT0 A
LC 00880
A=A+C A
LC 001FE
A=A+C A
D0=A
LC 87
*AF42
A=DAT1 W
DAT0=A W
D0=D0+ 16
D1=D1+ 16
C=C-1 B
GONC AF42
RTN

*MAR
GOSUB MA
$C1C180E3D5C14163
*MA
C=RSTK
D1=C
A=R0
D0=A
LC 07
*AF4M
A=DAT1 B
DAT0=A B
D0=D0+ 16
D0=D0+ 16
D0=D0+ 2
D1=D1+ 2
C=C-1 B
GONC AF4M
RTN

*çLCD4
D1= 80100
A=DAT1 A
LC 00880
A=A+C A
D1=A
D0= 80100
A=DAT0 A
D0=A
LC 87
*MAX
A=DAT1 W
DAT0=A W
D0=D0+ 16
D1=D1+ 16
C=C-1 B
GONC MAX
RTN

*SCL
A=R1
D0=A
GOSUB SCL2
$3CFF3CFF3CFF3CFF3CFF3CFF
*SCL2
C=RSTK
D1=C
LC 0B
*AF4C
A=DAT1 B
DAT0=A B
D0=D0+ 16
D0=D0+ 16
D0=D0+ 2
D1=D1+ 2
C=C-1 B
GONC AF4C
RTN

*BMG
D0= 80105
A=DAT0 B
LC 03
?AãC B
GOYES NL1
C=0 B
DAT0=C B
A=R0
LC  004C8
A=A-C A
R0=A
RTN

*NL1
A=A+1 B
DAT0=A B
A=R0
LC 00198
A=A+C A
R0=A
RTN

*BMG2
D0= 80107
A=DAT0 B
LC 02
?AãC B
GOYES NL2
C=0 B
DAT0=C B
A=R1
LC  330
A=A-C A
R1=A
RTN

*NL2
A=A+1 B
DAT0=A B
A=R1
LC 198
A=A+C A
R1=A
RTN

*BMG3
D0= 80109
A=DAT0 B
LC 19
?AãC B
GOYES NWIN
ST=1 1
RTN
*NWIN
A=A+1 B
DAT0=A B

A=R0
A=A+1 A
R0=A
RTN

*INI
CLRST

D0= 0010C
A=DAT0 A
ABIT=0 3
DAT0=A A

LC 3F
D0= 00128
DAT0=C B

D0= 80505
A=DAT0 A
D0= 80100
DAT0=A A

D0= 80100
A=DAT0 A
D0=A
LC 87F
A=0 B
*CL
DAT0=A B
D0=D0+ 2
C=C-1 X
GONC CL

D0= 80100
A=DAT0 A
D0= 00120
DAT0=A A

D0= 80100
A=DAT0 A
LC 00880
A=A+C A
LC 00287
A=A+C A
R0=A
LC 0010E
A=A+C A
A=A+16 A
R1=A

D0= 80105
C=0 B
DAT0=C B
D0= 80107
DAT0=C B
D0= 80109
DAT0=C B
RTN

*TC3
A=R0
LC 00110
A=A+C A
D0=A
A=DAT0 B
LC C3
?A=C B
GOYES CHUTE4
RTN
*CHUTE4
ST=1 3
A=R0
LC 00198
A=A+C A
R0=A
RTN

*TFF
A=R0
LC 00022
A=A-C A
D0=A
A=DAT0 B
LC FF
?A=C B
GOYES SAUT4
RTN
*SAUT4
ST=1 3
A=R0
LC 00198
A=A-C A
R0=A
RTN

*SON
LC 800
OUT=C
C=0 X
OUT=C
RTN


@